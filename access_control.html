<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Role-Based Access Control</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .permission-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 0;
        }
        .permission-header {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }
        .section-header {
            background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%);
        }
        .page-section-header {
            background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
        }
    </style>
</head>
<body class="bg-slate-100 min-h-screen font-sans">
    <div class="max-w-7xl mx-auto p-6">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">Role-Based Access Control</h1>
            <p class="text-gray-600">Configure permissions for different user roles and system features</p>
        </div>

        <!-- Main Content Layout -->
        <div class="flex gap-6">
            <!-- Role Selection Sidebar -->
            <div class="w-80 bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-fit">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">User Roles</h2>
                <div class="space-y-3">
                    <button class="role-btn w-full bg-emerald-600 text-white px-4 py-3 rounded-lg hover:bg-emerald-700 transition-colors text-left flex items-center justify-between" data-role="sys_admin">
                        <div>
                            <div class="font-semibold">System admin</div>
                            <div class="text-sm opacity-90">Full system access</div>
                        </div>
                        <div class="w-3 h-3 bg-white rounded-full"></div>
                    </button>
                    <button class="role-btn w-full bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors text-left flex items-center justify-between" data-role="aa_admin_licensee">
                        <div>
                            <div class="font-semibold">AA admin (Licensee)</div>
                            <div class="text-sm opacity-70">Manage teams & operations</div>
                        </div>
                        <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                    </button>
                    <button class="role-btn w-full bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors text-left flex items-center justify-between" data-role="aa_admin_contractor">
                        <div>
                            <div class="font-semibold">AA admin (Contractor)</div>
                            <div class="text-sm opacity-70">Monitor & oversee tasks</div>
                        </div>
                        <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                    </button>
                    <button class="role-btn w-full bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors text-left flex items-center justify-between" data-role="con_manager_licensee">
                        <div>
                            <div class="font-semibold">Contract Manager (Licensee)</div>
                            <div class="text-sm opacity-70">Basic access & tasks</div>
                        </div>
                        <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                    </button>
                    <button class="role-btn w-full bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors text-left flex items-center justify-between" data-role="con_manager_contractor">
                        <div>
                            <div class="font-semibold">Contract Manager (Contractor)</div>
                            <div class="text-sm opacity-70">Basic access & tasks</div>
                        </div>
                        <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                    </button>
                    <button class="role-btn w-full bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors text-left flex items-center justify-between" data-role="save">
                        <div>
                            <div class="font-semibold">SAVE</div>
                        </div>
                        <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                    </button>
                </div>

                <!-- Role Summary -->
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <h3 class="font-semibold text-gray-800 mb-2">Current Role</h3>
                    <div id="role-summary" class="text-sm text-gray-600">
                        <div class="font-medium text-emerald-600">Administrator</div>
                        <div class="mt-1">Complete access to all system features and settings.</div>
                    </div>
                </div>
            </div>

            <!-- Permissions Grid -->
            <div class="flex-1 bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <!-- Page Section -->
            <div class="grid grid-cols-3 gap-0 page-section-header text-white">
                <div class="p-3 font-semibold">ðŸ“Š Page Access</div>
                <div class="p-3 font-semibold text-center border-l border-white/20">View</div>
                <div class="p-3 font-semibold text-center border-l border-white/20">Hidden</div>
            </div>

            <!-- Page Items -->
            <div class="grid grid-cols-3 gap-0 border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Dashboard</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="dashboard" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="dashboard" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="grid grid-cols-3 gap-0 border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Task</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="task" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="task" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="grid grid-cols-3 gap-0 border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Staff</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="staff" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="staff" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="grid grid-cols-3 gap-0 border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Shift Schedule</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="shift" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="shift" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="grid grid-cols-3 gap-0 border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Location</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="location" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="location" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="grid grid-cols-3 gap-0 border-b border-gray-200 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Reports</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="reports" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="reports" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>
            <!-- Grid Header -->
            <div class="permission-grid permission-header text-white">
                <div class="p-4 font-semibold text-lg">Feature</div>
                <div class="p-4 font-semibold text-center border-l border-white/20">Manage</div>
                <div class="p-4 font-semibold text-center border-l border-white/20">View</div>
                <div class="p-4 font-semibold text-center border-l border-white/20">Hidden</div>
            </div>
            <!-- Contract Section -->
            <div class="permission-grid section-header text-white">
                <div class="p-3 font-semibold">ðŸ“‹ Contract Configuration</div>
                <div class="border-l border-white/20"></div>
                <div class="border-l border-white/20"></div>
                <div class="border-l border-white/20"></div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Contract</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="contract" value="manage" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="contract" value="view" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="contract" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Department</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="department" value="manage" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="department" value="view" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="department" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Companies</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="companies" value="manage" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="companies" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="companies" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Job Titles</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="jobtitles" value="manage" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="jobtitles" value="view" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="jobtitles" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid border-b border-gray-200 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Service Type</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="servicetype" value="manage" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="servicetype" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="servicetype" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <!-- Task Section -->
            <div class="permission-grid section-header text-white">
                <div class="p-3 font-semibold">âœ… Task Configuration</div>
                <div class="border-l border-white/20"></div>
                <div class="border-l border-white/20"></div>
                <div class="border-l border-white/20"></div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Task Category</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="taskcategory" value="manage" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="taskcategory" value="view" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="taskcategory" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Task Subcategory</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="tasksubcategory" value="manage" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="tasksubcategory" value="view" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="tasksubcategory" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Custom Location</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="customlocation" value="manage" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="customlocation" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="customlocation" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Checkpoints</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="checkpoints" value="manage" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="checkpoints" value="view" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="checkpoints" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid border-b border-gray-100 hover:bg-gray-50">
                <div class="p-4 text-gray-800">Zone Location</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="zonelocation" value="manage" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="zonelocation" value="view" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="zonelocation" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>

            <div class="permission-grid hover:bg-gray-50">
                <div class="p-4 text-gray-800">Documents</div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="documents" value="manage" class="w-4 h-4 text-emerald-600" checked>
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="documents" value="view" class="w-4 h-4 text-emerald-600">
                </div>
                <div class="p-4 text-center border-l border-gray-100">
                    <input type="radio" name="documents" value="hidden" class="w-4 h-4 text-emerald-600">
                </div>
            </div>
        </div>

            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-between items-center mt-6">
            <div class="text-sm text-gray-500">
                <span class="inline-block w-3 h-3 bg-green-500 rounded-full mr-2"></span>
                Changes saved automatically
            </div>
            <div class="flex gap-3">
                <button class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                    Reset to Default
                </button>
                <button class="px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors">
                    Save Changes
                </button>
            </div>
        </div>
    </div>

    <script>
        // Role switching functionality
        const roleButtons = document.querySelectorAll('.role-btn');
        const allRadios = document.querySelectorAll('input[type="radio"]');

        // Role permission presets
        const rolePresets = {
            admin: {
                dashboard: 'view', task: 'view', staff: 'view', shift: 'view', 
                location: 'view', reports: 'view', contract: 'manage', department: 'manage',
                companies: 'manage', jobtitles: 'manage', servicetype: 'manage', taskcategory: 'manage',
                tasksubcategory: 'manage', customlocation: 'manage', checkpoints: 'manage',
                zonelocation: 'manage', documents: 'manage'
            },
            manager: {
                dashboard: 'view', task: 'view', staff: 'view', shift: 'view', 
                location: 'view', reports: 'view', contract: 'view', department: 'view',
                companies: 'view', jobtitles: 'view', servicetype: 'view', taskcategory: 'manage',
                tasksubcategory: 'manage', customlocation: 'view', checkpoints: 'manage',
                zonelocation: 'view', documents: 'view'
            },
            supervisor: {
                dashboard: 'view', task: 'view', staff: 'view', shift: 'view', 
                location: 'view', reports: 'hidden', contract: 'hidden', department: 'hidden',
                companies: 'hidden', jobtitles: 'hidden', servicetype: 'hidden', taskcategory: 'view',
                tasksubcategory: 'view', customlocation: 'view', checkpoints: 'view',
                zonelocation: 'view', documents: 'view'
            },
            employee: {
                dashboard: 'view', task: 'view', staff: 'hidden', shift: 'view', 
                location: 'hidden', reports: 'hidden', contract: 'hidden', department: 'hidden',
                companies: 'hidden', jobtitles: 'hidden', servicetype: 'hidden', taskcategory: 'hidden',
                tasksubcategory: 'hidden', customlocation: 'view', checkpoints: 'view',
                zonelocation: 'view', documents: 'hidden'
            }
        };

        roleButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Update button styles
                roleButtons.forEach(btn => {
                    btn.classList.remove('bg-emerald-600', 'text-white');
                    btn.classList.add('bg-gray-100', 'text-gray-700');
                    const indicator = btn.querySelector('.w-3.h-3');
                    indicator.classList.remove('bg-white');
                    indicator.classList.add('bg-gray-400');
                });
                button.classList.remove('bg-gray-100', 'text-gray-700');
                button.classList.add('bg-emerald-600', 'text-white');
                const indicator = button.querySelector('.w-3.h-3');
                indicator.classList.remove('bg-gray-400');
                indicator.classList.add('bg-white');

                // Apply role preset
                const role = button.dataset.role;
                const preset = rolePresets[role];
                
                Object.keys(preset).forEach(feature => {
                    const radio = document.querySelector(`input[name="${feature}"][value="${preset[feature]}"]`);
                    if (radio) {
                        radio.checked = true;
                    }
                });

                // Update role summary
                const summaryDiv = document.getElementById('role-summary');
                const roleDescriptions = {
                    admin: { title: 'Administrator', desc: 'Complete access to all system features and settings.' },
                    manager: { title: 'Manager', desc: 'Manage teams, operations, and most system features.' },
                    supervisor: { title: 'Supervisor', desc: 'Monitor tasks and oversee daily operations.' },
                    employee: { title: 'Employee', desc: 'Basic access to essential features and personal tasks.' }
                };
                const roleInfo = roleDescriptions[role];
                summaryDiv.innerHTML = `
                    <div class="font-medium text-emerald-600">${roleInfo.title}</div>
                    <div class="mt-1">${roleInfo.desc}</div>
                `;
            });
        });

        // Save changes functionality
        document.querySelector('button:last-child').addEventListener('click', () => {
            const permissions = {};
            allRadios.forEach(radio => {
                if (radio.checked) {
                    permissions[radio.name] = radio.value;
                }
            });
            
            // Show success message
            const saveBtn = document.querySelector('button:last-child');
            const originalText = saveBtn.textContent;
            saveBtn.textContent = 'Saved!';
            saveBtn.classList.add('bg-green-600');
            saveBtn.classList.remove('bg-emerald-600');
            
            setTimeout(() => {
                saveBtn.textContent = originalText;
                saveBtn.classList.remove('bg-green-600');
                saveBtn.classList.add('bg-emerald-600');
            }, 2000);
        });

        // Reset functionality
        // document.querySelector('button:nth-last-child(2)').addEventListener('click', () => {
        //     // Reset to admin preset
        //     const preset = rolePresets.admin;
        //     Object.keys(preset).forEach(feature => {
        //         const radio = document.querySelector(`input[name="${feature}"][value="${preset[feature]}"]`);
        //         if (radio) {
        //             radio.checked = true;
        //         }
        //     });
            
        //     // Reset role selection to admin
        //     roleButtons.forEach(btn => {
        //         btn.classList.remove('bg-emerald-600', 'text-white');
        //         btn.classList.add('bg-gray-100', 'text-gray-700');
        //         const indicator = btn.querySelector('.w-3.h-3');
        //         indicator.classList.remove('bg-white');
        //         indicator.classList.add('bg-gray-400');
        //     });
        //     roleButtons[0].classList.remove('bg-gray-100', 'text-gray-700');
        //     roleButtons[0].classList.add('bg-emerald-600', 'text-white');
        //     const firstIndicator = roleButtons[0].querySelector('.w-3.h-3');
        //     firstIndicator.classList.remove('bg-gray-400');
        //     firstIndicator.classList.add('bg-white');

        //     // Reset role summary
        //     const summaryDiv = document.getElementById('role-summary');
        //     summaryDiv.innerHTML = `
        //         <div class="font-medium text-emerald-600">Administrator</div>
        //         <div class="mt-1">Complete access to all system features and settings.</div>
        //     `;
        // });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9757dd3535104a21',t:'MTc1NjI1ODg2MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
